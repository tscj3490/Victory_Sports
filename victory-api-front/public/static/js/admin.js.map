{"version":3,"sources":["admin.js"],"names":["generatePushID","PUSH_CHARS","lastPushTime","lastRandChars","now","Date","getTime","duplicateTime","timeStampChars","Array","i","charAt","Math","floor","Error","id","join","random","length","myApp","angular","module","directive","$http","$q","notification","$state","restrict","scope","prefix","suffix","link","$scope","uploaded","onFileSelect","$files","file","upload","URL","fd","FormData","append","post","transformRequest","identity","headers","undefined","then","res","reload","log","data","error","addnCls","catch","template","UserAccessLevels","value","label","ProductGender","ProductSizes","ProductBrands","ProductCollections","ProductKits","toArray","array","prototype","slice","call","config","nga","admin","application","debug","baseApiUrl","user","entity","identifier","field","leagues","teams","products","collections","addEntity","listView","fields","isDetailLink","choices","filters","pinned","creationView","validation","required","editionView","deletionView","targetEntity","targetField","remoteComplete","refreshDelay","searchQuery","search","q","showView","concat","map","truncate","entry","console","binData","msgpack","decode","e","values","targetFields","uploadInformation","configure"],"mappings":"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","file":"admin.js","sourcesContent":["/*global angular*/\n\nvar generatePushID = (function() {\n    // Modeled after base64 web-safe chars, but ordered by ASCII.\n    let PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\n\n    // Timestamp of last push, used to prevent local collisions if you push twice in one ms.\n    var lastPushTime = 0;\n\n    // We generate 72-bits of randomness which get turned into 12 characters and appended to the\n    // timestamp to prevent collisions with other clients.  We store the last characters we\n    // generated because in the event of a collision, we'll use those same characters except\n    // \"incremented\" by one.\n    var lastRandChars = [];\n\n    return function() {\n        var now = new Date().getTime();\n        var duplicateTime = (now === lastPushTime);\n        lastPushTime = now;\n\n        var timeStampChars = new Array(8);\n        for (var i = 7; i >= 0; i--) {\n            timeStampChars[i] = PUSH_CHARS.charAt(now % 64);\n            // NOTE: Can't use << here because javascript will convert to int and lose the upper bits.\n            now = Math.floor(now / 64);\n        }\n        if (now !== 0) throw new Error('We should have converted the entire timestamp.');\n\n        var id = timeStampChars.join('');\n\n        if (!duplicateTime) {\n            for (i = 0; i < 12; i++) {\n                lastRandChars[i] = Math.floor(Math.random() * 64);\n            }\n        } else {\n            // If the timestamp hasn't changed since last push, use the same random number, except incremented by 1.\n            for (i = 11; i >= 0 && lastRandChars[i] === 63; i--) {\n                lastRandChars[i] = 0;\n            }\n            lastRandChars[i]++;\n        }\n        for (i = 0; i < 12; i++) {\n            id += PUSH_CHARS.charAt(lastRandChars[i]);\n        }\n        if(id.length !== 20) throw new Error('Length should be 20.');\n\n        return id;\n    };\n})();\n\nvar myApp = angular.module('myApp', ['ng-admin']);\nmyApp.directive('uploader', ['$http', '$q', 'notification', '$state', function ($http, $q, notification, $state) {\n    return {\n        restrict: 'E',\n        scope: {\n            prefix: '&',\n            suffix: '&'\n        },\n        link: function ($scope) {\n            $scope.uploaded = false;\n\n            $scope.onFileSelect = function ($files) {\n                if (!$files || !$files.length) return;\n                $scope.file = $files[0];\n            };\n            $scope.upload = function () {\n                if (!$scope.file) return;\n\n                // var pattern = /^#\\/[a-zA-Z0-9\\-_]+\\/(edit|show)\\/([0-9a-fA-F]+)$/;\n                // var data = location.hash.match(pattern);\n                // if (!data) return alert(\"Unable to detect the entry ID\");\n\n                // var id = data[2];\n                // var id = generatePushID();\n                var URL = $scope.prefix();// + id + $scope.suffix();\n\n                var fd = new FormData();\n                fd.append('file', $scope.file);\n                return $http.post(URL, fd, {\n                    transformRequest: angular.identity,\n                    headers: { 'Content-Type': undefined }\n                })\n                    .then(function (res) {\n                        $scope.file = null;\n                        $state.reload();\n                        notification.log(res.data.error || \"Image uploaded\", { addnCls: 'humane-flatty-success' });\n                    })\n                    .catch(function (res) {\n                        notification.log(res.data.error || \"Could not upload\", { addnCls: 'humane-flatty-error' });\n                    });\n            };\n        },\n        template: `<div class=\"row\">\n\t\t\t\t<style>\n\t\t\t\t\t.uploader {\n\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\tbackground-color: #f7f7f7;\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t\t\tfont-weight: 400;\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\t\ttouch-action: manipulation;\n\t\t\t\t\t\tbackground-image: none;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tborder: 1px dashed #ccc;\n\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\tpadding: 24px 48px;\n\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\tline-height: 1.42857;\n\t\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\t\t-webkit-user-select: none;\n\t\t\t\t\t\t-moz-user-select: none;\n\t\t\t\t\t\t-ms-user-select: none;\n\t\t\t\t\t\tuser-select: none;\n\t\t\t\t\t}\n\t\t\t\t\t.uploader.bg-success {\n\t\t\t\t\t\tbackground-color: #dff0d8;\n\t\t\t\t\t}\n\t\t\t\t\t.uploader.bg-danger {\n\t\t\t\t\t\tbackground-color: #f2dede;\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t\t<div class=\"col-md-4\" ng-hide=\"file\">\n\t\t\t\t\t<div class=\"uploader\"\n\t\t\t\t\t\tngf-drop\n\t\t\t\t\t\tngf-select\n\t\t\t\t\t\tngf-drag-over-class=\"{pattern: 'image/*', accept:'bg-success', reject:'bg-danger', delay:50}\"\n\t\t\t\t\t\tngf-pattern=\"image/*\"\n\t\t\t\t\t\tngf-max-total-size=\"'1MB'\"\n\t\t\t\t\t\tngf-change=\"onFileSelect($files)\"\n\t\t\t\t\t\tngf-multiple=\"false\">Select an image or drop it here</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-md-4\" ng-show=\"file\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-success btn-lg\" ng-click=\"upload()\">\n\t\t\t\t\t\t<span class=\"glyphicon glyphicon-upload\"></span> Upload the image\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t</div>`\n    };\n}]);\nvar UserAccessLevels = [\n    { value: 10, label: 'Anonymous' },\n    { value: 50, label: 'User' },\n    { value: 100, label: 'Admin' }\n];\nvar ProductGender = [\n    { value: 'male', label: 'Male' },\n    { value: 'female', label: 'Female' },\n    { value: 'youth', label: 'Youth' },\n    { value: 'unisex', label: 'Unisex' }\n];\nvar ProductSizes = [\n    { value: \"S\", label: 'S' },\n    { value: \"M\", label: 'M' },\n    { value: \"L\", label: 'L' },\n    { value: \"XL\", label: 'XL' },\n    { value: \"XXL\", label: 'XXL' }\n];\nvar ProductBrands = [\n    { value: \"Adidas\", label: 'Adidas' },\n    { value: \"Nike\", label: 'Nike' },\n    { value: \"Puma\", label: 'Puma' },\n    { value: \"New Balance\", label: 'New Balance' },\n    { value: \"Uhl Sport\", label: 'Uhl Sport' },\n    { value: \"Umbro\", label: 'Umbro' },\n    { value: \"Arena\", label: 'Arena' }\n];\nvar ProductCollections = [\n    { value: 'uaeleague', label: 'UAE League' },\n    { value: 'laliga', label: 'La Liga' },\n    { value: 'bundesliga', label: 'Bundesliga' },\n    { value: 'ligue1', label: 'Ligue 1' },\n    { value: 'premierleague', label: 'Premier League' },\n    { value: 'seriea', label: 'Serie A' },\n    { value: 'worldcup', label: 'WorldCup' },\n    { value: 'worldcup2018', label: 'WorldCup2018' },\n    { value: 'europe', label: 'Europe' },\n    { value: 'africa', label: 'Africa' },\n    { value: 'asia', label: 'Asia' },\n    { value: 'southamerica', label: 'South America' },\n    { value: 'northcentralamericaandcarribean', label: 'North, Central America and Carribean' },\n    { value: 'featuredplayers', label: 'Featured Players' },\n    { value: 'merchandise', label: 'Merchandise' },\n    { value: 'clubs', label: 'Clubs' },\n    { value: 'featuredproducts', label: 'Featured Products' },\n    { value: 'whatsnew', label: 'Whats New' },\n    { value: 'bestsellers', label: 'Best Sellers' }\n];\nvar ProductKits = [\n    { value: 'homekit', label: 'Home Kit' },\n    { value: 'awaykit', label: 'Away Kit' },\n    { value: 'thirdkit', label: 'Third Kit' },\n    { value: 'goalkeeperkit', label: 'Goalkeeper Kit' },\n    { value: 'accessories', label: 'Accessories' }\n];\nfunction toArray(array) {\n    return Array.prototype.slice.call(array);\n}\nmyApp.config(['NgAdminConfigurationProvider', function (nga) {\n    // create an admin application\n    var admin = nga.application('Victory Admin')\n        .debug(true)\n        .baseApiUrl('/admin/'); // main API endpoint\n    // create a user entity\n    // the API endpoint for this entity will be 'http://jsonplaceholder.typicode.com/users/:id\n    var user = nga.entity('users')\n        .identifier(nga.field('ID'));\n    var leagues = nga.entity('leagues')\n        .identifier(nga.field('ID'));\n    var teams = nga.entity('teams')\n        .identifier(nga.field('ID'));\n    var products = nga.entity('products')\n        .identifier(nga.field('ID'));\n    var collections = nga.entity('collections')\n        .identifier(nga.field('ID'));\n    admin\n        .addEntity(user)\n        .addEntity(leagues)\n        .addEntity(teams)\n        .addEntity(collections)\n        .addEntity(products);\n\n    // set the fields of the user entity list view\n    user.listView().fields([\n        nga.field('ID'),\n        nga.field('Email').isDetailLink(true),\n        nga.field('UserAccessLevel', 'choice').choices([\n            { value: 10, label: 'Anonymous' },\n            { value: 50, label: 'User' },\n            { value: 100, label: 'Admin' }\n        ]),\n        nga.field('Name'),\n        nga.field('FirebaseId'),\n        nga.field('CreatedAt', 'datetime'),\n        nga.field('UpdatedAt', 'datetime'),\n        nga.field('DeletedAt', 'datetime')\n    ]).filters([\n        nga.field('q')\n            .label('User Search')\n            .pinned(true)\n    ]);\n    user.creationView().fields([\n        nga.field('Email', 'email').validation({ required: true }),\n        // nga.field('Name'),\n        // nga.field('Email', 'Email'),\n        nga.field('UserAccessLevel','choice')\n            .choices(UserAccessLevels)\n            .validation({ required: true })\n        // nga.field('address.street').label('Street'),\n        // nga.field('address.city').label('City'),\n        // nga.field('address.zipcode').label('Zipcode'),\n        // nga.field('phone'),\n        // nga.field('website')\n    ]);\n    user.editionView().fields(user.creationView().fields());\n    user.deletionView();\n    // add the user entity to the admin application\n\n    leagues.listView().fields([\n        nga.field('ID'),\n        nga.field('Name').isDetailLink(true),\n\n        nga.field('CreatedAt', 'datetime'),\n        nga.field('UpdatedAt', 'datetime'),\n        nga.field('DeletedAt', 'datetime')\n    ]);\n    leagues.creationView().fields([\n        nga.field('Name')\n    ]);\n    leagues.editionView().fields(leagues.creationView().fields());\n    leagues.deletionView();\n\n\n    // teams\n    teams.listView().fields([\n        nga.field('ID'),\n        nga.field('Logo', 'template')\n            .label('Logo')\n            .template('<img src=\"{{ entry.values.Logo }}\" class=\"club-logo\" alt=\"{{ entry.values.Logo }}\"/>'),\n        nga.field('Name.en').isDetailLink(true),\n        nga.field('Name.ar'),\n        nga.field('LeagueID'),\n        nga.field('CreatedAt', 'datetime'),\n        nga.field('UpdatedAt', 'datetime'),\n        nga.field('DeletedAt', 'datetime')\n    ]);\n    teams.creationView().fields([\n        nga.field('Name.en'),\n        nga.field('Name.ar'),\n        // nga.field('LeagueID', 'number')\n        nga.field('LeagueID', 'reference')\n            .label('League')\n            .targetEntity(leagues)\n            .targetField(nga.field('Name'))\n            .remoteComplete(true, {\n                refreshDelay: 200,\n                searchQuery: function(search) { return { q: search }; }\n            })\n        // nga.field('LeagueID', 'reference')\n        //     .label('League')\n        //     .targetEntity(leagues)\n        //     .targetField('ID')\n        //     .sortField('Name')\n        //     .sortDir('ASC')\n        //     .validation({ required: true })\n    ]);\n    // teams.editionView().fields(teams.creationView().fields());\n    // teams.deletionView();\n\n    // MARK: Products\n    products.listView().fields([\n        nga.field('ID'),\n        nga.field('Name').isDetailLink(true),\n        nga.field('Description'),\n        nga.field('Price'),\n        nga.field('Gender')\n    ]);\n    products.showView().fields(products.listView().fields().concat([\n        // nga.field('Image'),\n        nga.field('Thumbnail','template')\n            .template('<img src=\"{{ entry.values.Thumbnail }}\" class=\"product-thumbnail\" alt=\"{{ entry.values.Thumbnail }}\"/>'),\n        nga.field('KitCode'),\n        nga.field('Category.Name').label(\"Category\"),\n        nga.field('Brand.Name'),\n        nga.field('Team.Name')\n            .map(function truncate(value, entry) {\n                console.log(\"value\", value, \"entry\", entry);\n                try {\n                    var binData = toArray(value);\n                    console.log(\"bin data\", binData);\n                    console.log(\"msg --- \", msgpack.decode(binData));\n                }catch (e) {\n                    console.log(\"something went wrong\", e);\n                }\n                return value + '(' + entry.values + ')';\n            }),\n        nga.field('Collections', 'embedded_list') // Define a 1-N relationship with the (embedded) comment entity\n            .targetFields([ // which comment fields to display in the datagrid / form\n                nga.field('Name'),\n                nga.field('Code'),\n                nga.field('CreatedAt', 'date')\n            ])\n    ]));\n    products.creationView().fields([\n        nga.field('Name').isDetailLink(true)\n            .validation({ required: true }),\n        nga.field('Description','wysiwyg')\n            .validation({ required: true }),\n        nga.field('Price','float')\n            .validation({ required: true }),\n        nga.field('Gender', 'choice')\n            .choices(ProductGender)\n            .validation({ required: true }),\n        nga.field('Sizes','choices')\n            .choices(ProductSizes)\n            .validation({ required: true }),\n        nga.field('Brand','choice')\n            .choices(ProductBrands)\n            .validation({ required: true }),\n        nga.field('KitCode','choice').label('Kit')\n            .choices(ProductKits)\n            .validation({ required: true }),\n        nga.field('Collections','choices')\n            .choices(ProductCollections),\n        nga.field('TeamID', 'reference')\n            .targetEntity(teams)\n            .targetField(nga.field('Name.en')),\n        // nga.field('upload', 'template')\n        //     .label('Upload image')\n        //     .template(`<uploader prefix=\"'/admin/products/image-upload'\" suffix=\"''\"/>`),\n        nga.field('Image', 'file')\n            .uploadInformation({\n                'url': '/admin/products/image-upload',\n                'apifilename': 'image_name' })\n            .validation({ required: true }),\n    ]);\n    // attach the admin application to the DOM and execute it\n    nga.configure(admin);\n}]);\n"]}